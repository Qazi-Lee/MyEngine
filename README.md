# MyEngine

MyEngine 是一个开源的 2D 游戏引擎，设计用于帮助开发者构建高效、可扩展的游戏。该引擎结合了现代的ECS、OpenGL 渲染、音频管理系统、Box2D 物理引擎和 C# 脚本系统，并且有基于ImGui的可交互界面UI。

## 项目结构

│ ├── /Engine # 引擎核心代码（C++）

│ ├── /Game # 引擎UI层和渲染层

│ ├── /ScriptEngine # c#部分的核心代码

│ ├── /box2d # box2d库，支持物理引擎功能

│ ├── /GLFW # GLFW库,支持opengl渲染功能

│ ├── /glad # glad库，支持opengl渲染功能

│ ├── /ImGui # ImGui库，支持UI系统功能

│ ├── /miniaudio # miniaudio库，支持音频系统功能

│ ├── /stb_image # stb_iamge库，支持图像加载功能

│ ├── /yaml # yaml ,用于场景的序列化和反序列化

│ ├── /glm # 数学库

│ ├── /Mono # Mono库，用于支持内嵌c#功能

│ ├── /VulkanSDK /Third # 其他第三方库和头文件


## 特性

- **2D 渲染引擎**：基于 OpenGL 提供2D，包括纹理、文字和帧缓冲，采用批处理的方式渲染。
- **物理引擎**：集成 Box2D 用于高效的 2D 物理模拟，包括重力模拟，碰撞模拟等。
- **ECS系统**：采用 EnTT 组件架构，在场景中管理实体和组件，并提供了序列化和反序列化的功能。
- **C#脚本系统**：引擎通过 Mono 提供对 C# 脚本的支持，使得游戏逻辑可以灵活编写。
- **UI界面**：引擎使用ImGui来提供简洁的UI界面
- **抽象化设计**：渲染接口抽象化，为图形AIP切换提供基础


## 引擎架构分析

MyEngine 使用了现代的游戏引擎架构，采用了组件化设计和分层模块化结构。下面是对引擎主要架构和功能模块的详细分析：

### 1. **核心引擎模块 (Engine)**

引擎核心包含了渲染、资源管理、输入输出等基本功能，并提供了灵活的接口供游戏逻辑模块调用。主要模块包括：

- **输入处理模块**：使用事件（Event)系统和轮询（InPut)来对外部输入进行处理。
- **渲染模块**：基于 OpenGL 实现，包括纹理加载、文字渲染、着色器加载、基本的图形变换和相机控制等。它还支持批量渲染，减少 GPU 调用，提高性能。
- **渲染数据处理模块**：将顶点缓冲和顶点数组封装，便于处理渲染数据。
- **资源管理模块**：管理游戏中所有资源的加载与缓存，支持图片、声音、字体等常见资源的加载。

### 2. **组件与实体系统 (ECS)**

MyEngine 采用 EnTT 库实现了 ECS 架构，并使用场景来管理实体，通过为实体附加不同的组件来实现不同的功能。

- **实体 (Entity)**：游戏中的对象，具有唯一的 ID，通常由若干组件组成。
- **组件 (Component)**：存储数据，如位置（Position）、速度（Velocity）、纹理（Texture）等。
- **系统 (System)**：对相关组件进行操作和更新，如渲染系统、物理系统等。

### 3. **C# 脚本系统**

引擎集成了 Mono，使得游戏逻辑可以通过 C# 脚本编写。开发者可以在 `ScriptCore` 目录下编写游戏行为脚本，并将脚本作为组件附加到实体中运行。这样，开发者可以在不修改引擎源代码的情况下，快速实现和调整游戏逻辑。

- **C# 脚本支持**：通过 Mono 实现对 C# 脚本的支持，支持动态加载和执行 C# 脚本。
- **脚本接口**：引擎暴露了与游戏对象交互的接口（如位置、速度等），开发者可以在 C# 脚本中直接操作。

### 4. **资源加载与管理**

引擎提供了一整套资源管理系统，支持异步加载和自动管理资源的生命周期。游戏中的所有资源（如图片、音效、3D 模型等）都通过资源管理器统一加载和缓存。

- **纹理管理**：支持加载各种图像格式（如 PNG、JPG），并且支持自动按需加载和缓存。
- **音效管理**：支持音效的加载、播放、暂停和停止。
- **其他资源**：如字体、地图等，通过资源管理器统一管理。

### 5. **第三方库集成**

引擎集成了多个强大的第三方库以实现功能扩展：

- **OpenGL**：提供跨平台的图形渲染支持。
- **Box2D**：处理物理引擎的碰撞、刚体模拟等。
- **Mono**：支持 C# 脚本功能，允许动态加载和执行游戏逻辑。

